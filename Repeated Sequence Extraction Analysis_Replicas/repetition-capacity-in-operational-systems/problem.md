## Title

Repetition Capacity in Operational Systems

## Slug

repetition-capacity-in-operational-systems

## Difficulty

Hard

## Description

A high-throughput event stream reprocessor operates on massive text-based workloads derived from repeating
well-defined base patterns. These workloads are generated by concatenating smaller canonical
strings multiple times to simulate long-running operational histories.

To validate replay correctness and backward compatibility, the system must determine how many
times a smaller repeated pattern can be reconstructed from a larger generated sequence when
character deletions are permitted but relative ordering must be preserved.

Given two base pattern definitions and their repetition counts, the platform evaluates whether
multiple consecutive instances of the secondary pattern can be extracted from the primary
generated sequence under subsequence constraints.

This computation is critical for ensuring that replayed workloads, recovery pipelines, and
historical reconstructions maintain semantic equivalence with their source data while operating
within strict performance and memory boundaries.

The objective is to compute the maximum feasible extraction count that satisfies these constraints.

## Examples

### 1

#### Input
acb  
4  
ab  
2  

#### Output
2

#### Explanation

The string formed by repeating `"acb"` four times can produce the string `"ab"` repeated four times. Since `"ab"` repeated twice equals `"abab"`, the maximum valid value of `m` is 2.

### 2

#### Input
acb  
1  
acb  
1  

#### Output
1

#### Explanation

The two generated strings are identical, so the maximum possible value of `m` is 1.

## Input Format

- First line: string `s1`
- Second line: integer `n1`
- Third line: string `s2`
- Fourth line: integer `n2`

## Output Format

- Return a single integer representing the maximum value of `m`

## Constraints

- 1 ≤ length of `s1`, `s2` ≤ 100
- 1 ≤ n1, n2 ≤ 1000000
- `s1` and `s2` consist only of lowercase English letters

## Time Limit

1 second

## Memory Limit

512 MB

## Tags

string 
